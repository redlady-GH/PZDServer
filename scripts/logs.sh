#!/bin/bash
# -----------------------------------------------------------------------------
# [로그 확인 스크립트]
# 현재 실행 중인 서버의 최신 로그를 실시간으로(tail -f) 보여줍니다.
# 서버가 켜지지 않거나 오류가 발생했을 때 확인하세요.
# -----------------------------------------------------------------------------

# 가장 최근에 수정된 로그 파일 찾기
LOG_FILE=$(ls -t /home/steam/Zomboid/Logs/*_DebugLog-server.txt 2>/dev/null | head -n 1)

if [ -z "$LOG_FILE" ]; then
    echo "❌ 오류: 로그 파일을 찾을 수 없습니다. 서버가 한 번도 실행되지 않았을 수 있습니다."
    exit 1
fi

echo "📜 최신 로그 확인 중: $LOG_FILE"
echo "(종료하려면 Ctrl+C를 누르세요)"
echo "----------------------------------------------------------------"
sudo tail -f "$LOG_FILE"
